<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Настройка двухфакторной аутентификации</title>
</head>
<body>
    <h1>Настройка двухфакторной аутентификации</h1>

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <p class="{{ category }}">{{ message }}</p>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <p>Отсканируйте QR-код в приложении аутентификации (Google Authenticator, Authy и т.д.):</p>

    <!-- Здесь вы можете использовать библиотеку для генерации QR-кода на стороне клиента -->
    <div>
        <p>Если вы не можете отсканировать QR-код, введите этот код вручную: <strong>{{ secret }}</strong></p>
    </div>

    <p>После настройки введите текущий код для подтверждения:</p>

    <form method="post">
        <input type="text" name="otp_code" placeholder="Код подтверждения" required>
        <button type="submit">Подтвердить</button>
    </form>
</body>
</html>